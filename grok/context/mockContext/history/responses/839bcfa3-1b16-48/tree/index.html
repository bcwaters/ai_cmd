<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Home Page</title>
  <style>
    @CSS_GOES_HERE@
    nav {
      display: flex;
      justify-content: space-between;
      align-items: left;
      padding: 10px;
    }
    
    .nav-right {
      display: flex;
      gap: 20px;
      align-items: center;
    }
  </style>
</head>
<body>
  <nav>

   
    <a id="parentContentLink" href='/?context=839bcfa3-1b16-48'>Home</a>
    <select id="childSubjects">
      <option value="home">Home</option>
      <!-- Children are added here onload with setChildSubjects -->
    </select>
    <!-- Add a previous and next button for prior requests? -->
    <!-- Add a button to save the current page as a markdown file -->

    <div class="nav-right">
      <button id="saveButton" onclick="saveButton()">Save html</button>

    </div>

  </nav>

  <div id="content">  
    <div id="parentContent">
        <h2>Basic Algebra</h2>
<ul>
<li>Equations</li>
<li>Variables</li>
<li>Solving</li>
</ul>
<h2>Calculus</h2>
<ul>
<li>Derivatives</li>
<li>Integrals</li>
<li>Limits</li>
</ul>
<p>Would you like to know more about any of these topics? Perhaps you're interested in specific applications of algebra or calculus? Or do you have a particular area of math you'd like to explore next?</p>

    </div>
    <div id="childDivs">
      <div title="Basic Algebra" id="childContent1" onclick="setVisibileChild('childContent1')" hidden=true><h1>Basic Algebra</h1>
<h2>Equations</h2>
<p>Equations are fundamental to algebra. They are mathematical statements that show the equality between two expressions. In algebra, equations often involve variables, which are symbols that represent unknown values. Common types of equations include:</p>
<ul>
<li><strong>Linear Equations</strong>: These are equations of the first degree, where the highest power of the variable is 1. For example, (2x + 3 = 7).</li>
<li><strong>Quadratic Equations</strong>: These are second-degree equations, where the highest power of the variable is 2. An example is (x^2 - 5x + 6 = 0).</li>
<li><strong>Systems of Equations</strong>: These involve multiple equations that need to be solved simultaneously. For example, solving (x + y = 10) and (2x - y = 3) together.</li>
</ul>
<h2>Variables</h2>
<p>Variables are placeholders for unknown or changing values in algebraic expressions and equations. They allow us to generalize mathematical relationships and solve for specific values. Key points about variables include:</p>
<ul>
<li><strong>Representation</strong>: Variables are usually represented by letters, such as (x), (y), or (z).</li>
<li><strong>Types</strong>: Variables can represent different types of quantities, such as real numbers, integers, or even more complex numbers.</li>
<li><strong>Manipulation</strong>: Variables can be manipulated using algebraic operations like addition, subtraction, multiplication, and division to solve equations.</li>
</ul>
<h2>Solving</h2>
<p>Solving equations in algebra involves finding the values of the variables that make the equation true. Techniques for solving vary based on the type of equation but generally include:</p>
<ul>
<li><strong>Isolating the Variable</strong>: This involves performing operations on both sides of the equation to isolate the variable on one side. For example, to solve (2x + 3 = 7), you would subtract 3 from both sides to get (2x = 4), then divide both sides by 2 to find (x = 2).</li>
<li><strong>Using Formulas</strong>: Certain types of equations, like quadratic equations, can be solved using specific formulas. The quadratic formula, (x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}), is used to solve equations of the form (ax^2 + bx + c = 0).</li>
<li><strong>Graphical Methods</strong>: Sometimes, solving equations can be done graphically by plotting the functions and finding the points of intersection.</li>
</ul>
<p>Would you like to know more about any specific aspect of basic algebra or perhaps explore another topic?</p>
<p>ResponseID:c2e830c4-4efc-4c</p>
</div><div title="Calculus" id="childContent2" onclick="setVisibileChild('childContent2')" hidden=true><h1>Calculus</h1>
<p>Calculus is a branch of mathematics that deals with rates of change and how things change over time. It is divided into two main branches: differential calculus and integral calculus.</p>
<h2>Derivatives</h2>
<ul>
<li><strong>Definition</strong>: A derivative measures how a function changes as its input changes. It is the slope of the tangent line to the function at a given point.</li>
<li><strong>Notation</strong>: Commonly denoted as ( f'(x) ) or ( \frac{dy}{dx} ).</li>
<li><strong>Applications</strong>: Used in physics for calculating velocity and acceleration, in economics for marginal analysis, and in engineering for optimization problems.</li>
<li><strong>Rules</strong>: Key rules include the power rule, product rule, quotient rule, and chain rule.</li>
</ul>
<h2>Integrals</h2>
<ul>
<li><strong>Definition</strong>: An integral is the reverse of a derivative. It calculates the area under the curve of a function.</li>
<li><strong>Types</strong>: There are two types of integrals: definite and indefinite. Definite integrals have specific limits of integration, while indefinite integrals do not.</li>
<li><strong>Notation</strong>: Indefinite integrals are denoted as ( \int f(x) , dx ), while definite integrals are written as ( \int_a^b f(x) , dx ).</li>
<li><strong>Applications</strong>: Used in physics to find displacement from velocity, in economics for total cost from marginal cost, and in engineering for calculating work.</li>
<li><strong>Techniques</strong>: Key techniques include substitution, integration by parts, and partial fractions.</li>
</ul>
<h2>Limits</h2>
<ul>
<li><strong>Definition</strong>: A limit describes the value that a function approaches as the input (or variable) approaches some value.</li>
<li><strong>Notation</strong>: Denoted as ( \lim_{x \to c} f(x) ).</li>
<li><strong>Importance</strong>: Limits are fundamental to calculus as they define derivatives and integrals.</li>
<li><strong>Types</strong>: One-sided limits (from the left or right), infinite limits, and limits at infinity.</li>
<li><strong>Applications</strong>: Used to understand the behavior of functions, to find derivatives, and to evaluate improper integrals.</li>
</ul>
<p>Calculus is essential in many fields because it provides tools to model and analyze dynamic systems. Whether you're calculating the trajectory of a rocket or optimizing a business process, calculus offers the mathematical foundation needed to solve complex problems.</p>
<p>Would you like to delve deeper into any specific aspect of calculus, such as particular applications or advanced techniques?</p>
<p>ResponseID:fee02e25-6171-4e</p>
</div>
    </div>
  </div>

    <script>
        function saveButton() {
          const content = document.documentElement.outerHTML; // Get the entire HTML content
          const blob = new Blob([content], { type: 'text/html' }); // Create a Blob from the content
          const url = URL.createObjectURL(blob); // Create a URL for the Blob
          const divInnerText = document.getElementById('content').innerText;
          let filename = divInnerText.substring(0, 25);
          const a = document.createElement('a'); // Create an anchor element
          a.href = url; // Set the href to the Blob URL
          
        a.download =  filename + '.html'; // Set the download attribute with a filename
          document.body.appendChild(a); // Append the anchor to the body
          a.click(); // Programmatically click the anchor to trigger the download
          document.body.removeChild(a); // Remove the anchor from the document
          URL.revokeObjectURL(url); // Release the Blob URL
        }
    </script>

    <script>
      function setChildSubjects(){
        let dropDownOptions = [];
        let childSubjects = document.getElementById('childDivs');
        for (let child of childSubjects.children){
           let subject = child.title;
           let optionValue = child.id;

           dropDownOptions.push({subject: subject, value: optionValue});
        
        }

        for (let option of dropDownOptions){
          let optionElement = document.createElement('option');
          optionElement.value = option.value;
          optionElement.text = option.subject;
          document.getElementById('childSubjects').appendChild(optionElement);
        }

        document.getElementById('childSubjects').addEventListener('change', function() {
          if(this.value == "home"){
            goHomePage();
          }else{
            setVisibleChild(this.value);
          }

          }
        );
      }
    </script>


    <script>
      function setVisibleChild(id){
        //quick flicker home to reset state, this allows hoping between child views
     
    
           let topNode = document.getElementById('content');
           let parentNode = document.getElementById('parentContent');
           let childVisibleNode = document.getElementById(id);
           let childDivs = document.getElementById('childDivs');
           for (let child of childDivs.children){
            if(child.id != id){
              child.hidden = true;
            }else{
              child.hidden = false; //redudant
            }
           }
           parentNode.hidden = true;
           childVisibleNode.hidden = false;
         }
      
    </script>

    <script>
      function goHomePage(){
         let topNode = document.getElementById('content');
         let parentNode = document.getElementById('parentContent');
         let children = document.getElementById('childDivs');
         for (let child of children.children){
            child.hidden = true;
         }
         parentNode.hidden = false;
      }
    </script>

    <script>
      function setChildLinks(){
        let children = document.getElementById('childDivs'); 
        let childSubjects = [];
        let discoveredMatches = [];

        
        for (let child of children.children){
          let subject = child.title;
          childSubjects.push({subject: subject, child: child});
          }
             
          let parentNodeH2Subjects = []
          let parentNodeH3Subjects = []
          let parentNodeH4Subjects = []
          let parentNode = document.getElementById('parentContent');
          let H2s = parentNode.getElementsByTagName("H2");
          let H3s = parentNode.getElementsByTagName("H3");
          let H4s = parentNode.getElementsByTagName("H4");
          let isH2Match = false;
          let isH3Match = false;
          let isH4Match = false;

          H2s.length > 0? parentNodeH2Subjects = H2s.map(item => ({subject: item.innerText, item: item})):isH2Match = false;
          H3s.length > 0?parentNodeH3Subjects = H3s.map(item => ({subject: item.innerText, item: item})):isH3Match = false;
          H4s.length > 0?parentNodeH4Subjects = H4s.map(item => ({subject: item.innerText, item: item})):isH4Match = false;

          
           isH3Match = H3s.length == childSubjects.length;
           isH2Match = H2s.length == childSubjects.length;
           isH4Match = H4s.length == childSubjects.length;
          let allDiscovered = false;

          if (isH3Match){
            //We have a match.  We need to find the H2s
            allDiscovered = true;
          }
          if (isH2Match){
            //We have a match.  We need to find the H3s
            allDiscovered = true;
          }
          if (isH4Match){
            //We have a match.  We need to find the H2s
            allDiscovered = true;
          }

          if(allDiscovered && (isH3Match + isH2Match + isH4Match) > 1){
            //wierd.  ok we work from scratch.
            allDiscovered = false;
          }

          if(!allDiscovered){

            let fluffWords = ["a", "an", "the", "and", "but", "or", "for", "nor", "on", "at", "to", "from", "by", "with", "of"];
            let fluffWordsRegex = new RegExp(fluffWords.join("|"), "g");
          
          //OK time to stumble through unpredictable llm output
          //First check if the child subjects are in the parent node h2 subjects
          let isH2 = false;
          let isH3 = false;
          let isH4 = false;
      
          //This can be optimized later.  Probably doesnt matter since it is client side with modern computing.
          for (let i = 0; i < parentNodeH2Subjects.length; i++){
            let subject = parentNodeH2Subjects[i].subject;
            for (let j = 0; j < childSubjects.length; j++){
              let childSubject = childSubjects[j].subject;
              if(childSubject.replace(fluffWordsRegex, "") == subject.replace(fluffWordsRegex, "")){
                isH2 = true;
                discoveredMatches.push({parentLink: parentNodeH2Subjects[i].item, childLink: childSubjects[j].child});
              }
            }

          }
         
          if(!isH2){
            for (let i = 0; i < parentNodeH3Subjects.length; i++){
              let subject = parentNodeH3Subjects[i].subject;
              for (let j = 0; j < childSubjects.length; j++){
                let childSubject = childSubjects[j].subject;  
                if(childSubject.replace(fluffWordsRegex, "") == subject.replace(fluffWordsRegex, "")){
                  isH3 = true;
                  discoveredMatches.push({parentLink: parentNodeH3Subjects[i].item, childLink: childSubjects[j].child});
                }
              }
            }
          }

          if(!isH3){
            for (let i = 0; i < parentNodeH4Subjects.length; i++){
              let subject = parentNodeH4Subjects[i].subject;
              for (let j = 0; j < childSubjects.length; j++){
                let childSubject = childSubjects[j].subject;
                if(childSubject.replace(fluffWordsRegex, "") == subject.replace(fluffWordsRegex, "")){
                  isH4 = true;
                  discoveredMatches.push({parentLink: parentNodeH4Subjects[i].item, childLink: childSubjects[j].child});
                }
              }
            }
          }

          if(!isH4){
              //I suppose there are edge cases but this surely covers 99.9% of the cases.
          }

          }else{
            if(isH3Match){
              for (let i = 0; i < parentNodeH3Subjects.length; i++){
                let child = childSubjects[i].child;
                makeChildLinks(parentNodeH3Subjects[i].item, child);
              }
              return; //bye bye
            }
            if(isH2Match){
              for (let i = 0; i < parentNodeH2Subjects.length; i++){
                let child = childSubjects[i].child;
                makeChildLinks(parentNodeH2Subjects[i].item, child);
                return; //bye bye
              }
              if(isH4Match){
                for (let i = 0; i < parentNodeH4Subjects.length; i++){
                  let child = childSubjects[i].child;
                  makeChildLinks(parentNodeH4Subjects[i].item, child);
                }
              }

            }

          }

          for (let match of discoveredMatches){
            makeChildLinks(match.parentLink, match.childLink);
            if(match.length < childSubjects.length){ alert("LLMM added additional info that is hidden");}
          }

        }
    </script>

    <script>
       function makeChildLinks(parent, child){
            parent.style.cursor = "pointer";
            parent.style.textDecoration = "underline";
            parent.style.color = "blue";
            parent.onclick = function(){
              setVisibleChild(child.id);
            }
       }

    </script>

<script>window.onload = setChildSubjects;</script>

</body>
</html>


   
    <!-- <textarea id="userPrompt"></textarea>

    <script>
        function nextButton() {
            const userPrompt = document.getElementById('userPrompt').value;
            console.log(userPrompt);
        }
    </script> -->