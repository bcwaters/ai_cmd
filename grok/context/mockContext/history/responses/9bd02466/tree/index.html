<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Home Page</title>
</head>
<body>
  <nav>
    <button id="saveButton" onclick="saveButton()">Save html</button>
    <a id="home" href='javascript:goHomePage()'>Home</a>
    <select id="childSubjects">
      <option value="all">Home</option>
      <!-- Children are added here onload with setChildSubjects -->
    </select>
    <!-- Add a previous and next button for prior requests? -->
    <!-- Add a button to save the current page as a markdown file -->
  </nav>

  <div id="content">  
    <div id="parentContent">
        <p>Here are a few examples of how you can style dropdowns using CSS. Each example demonstrates different styling techniques to enhance the appearance and functionality of dropdown menus.</p>
<h3>Basic Styling</h3>
<p>This example shows a simple way to style a dropdown to make it more visually appealing.</p>
<pre><code class="language-html">&lt;select id="basicDropdown"&gt;
  &lt;option value="option1"&gt;Option 1&lt;/option&gt;
  &lt;option value="option2"&gt;Option 2&lt;/option&gt;
  &lt;option value="option3"&gt;Option 3&lt;/option&gt;
&lt;/select&gt;
</code></pre>
<pre><code class="language-css">#basicDropdown {
  width: 200px;
  padding: 10px;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 4px;
  background-color: #f8f8f8;
}

#basicDropdown option {
  background-color: #fff;
}
</code></pre>
<h3>Custom Dropdown with Styling</h3>
<p>This example demonstrates how to create a custom dropdown that looks more like a button and includes hover effects.</p>
<pre><code class="language-html">&lt;div class="custom-dropdown"&gt;
  &lt;select id="customDropdown"&gt;
    &lt;option value="option1"&gt;Option 1&lt;/option&gt;
    &lt;option value="option2"&gt;Option 2&lt;/option&gt;
    &lt;option value="option3"&gt;Option 3&lt;/option&gt;
  &lt;/select&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="language-css">.custom-dropdown {
  position: relative;
  display: inline-block;
}

#customDropdown {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background: #fff url('arrow-down.svg') no-repeat 95% center;
  background-size: 10px;
  width: 200px;
  padding: 10px;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 4px;
  cursor: pointer;
}

#customDropdown:hover {
  background-color: #f0f0f0;
}

#customDropdown:focus {
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
}
</code></pre>
<h3>Dropdown with Enhanced Accessibility</h3>
<p>This example includes styling for better accessibility, such as increased contrast and larger font sizes.</p>
<pre><code class="language-html">&lt;select id="accessibleDropdown"&gt;
  &lt;option value="option1"&gt;Option 1&lt;/option&gt;
  &lt;option value="option2"&gt;Option 2&lt;/option&gt;
  &lt;option value="option3"&gt;Option 3&lt;/option&gt;
&lt;/select&gt;
</code></pre>
<pre><code class="language-css">#accessibleDropdown {
  width: 250px;
  padding: 15px;
  font-size: 18px;
  border: 2px solid #333;
  border-radius: 6px;
  background-color: #fff;
  color: #333;
}

#accessibleDropdown option {
  background-color: #fff;
  color: #333;
}

#accessibleDropdown:focus {
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
}
</code></pre>
<p>These examples provide different approaches to styling dropdowns, from basic enhancements to more complex custom designs and accessibility improvements. You can adjust these styles to fit your specific needs and design preferences.</p>

    </div>
    <div id="childDivs">
      <div title=""\n\nBasic Styling" id="childContent1" onclick="setVisibileChild('childContent1')" hidden=true><h1>Basic Styling for Custom Dropdown</h1>
<p>When designing a custom dropdown, basic styling is crucial not only for aesthetics but also for enhancing user experience and accessibility. Here's an in-depth look at how to approach the styling of the custom dropdown described in the previous context:</p>
<h2>CSS Styling</h2>
<p>To implement the basic styling, we'll use CSS. This will involve setting up the visual aspects of the dropdown toggle button and the dropdown menu itself. Here's a sample CSS that you could use for the custom dropdown:</p>
<pre><code class="language-css">.custom-dropdown {
  position: relative;
  display: inline-block;
}

<p>.dropdown-toggle {
  background-color: #f1f1f1;
  color: black;
  padding: 10px;
  font-size: 16px;
  border: none;
  cursor: pointer;
}</p>
<p>.dropdown-menu {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}</p>
<p>.dropdown-menu.show {
  display: block;
}</p>
<p>.dropdown-item {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}</p>
</code><p><code class="language-css">.dropdown-item:hover {
  background-color: #ddd;
}
</code></p></pre><p></p>
<h3>Explanation of Styling Elements:</h3>
<ul>
<li><p><strong>Container (<code>custom-dropdown</code>)</strong>: This class sets up the positioning of the dropdown to be relative to its normal position in the document flow. It's set to <code>inline-block</code> to ensure it fits within the flow of the text.</p>
</li>
<li><p><strong>Toggle Button (<code>dropdown-toggle</code>)</strong>: Styled with a light background color, black text, and appropriate padding and font size. The <code>cursor: pointer</code> property indicates it's clickable.</p>
</li>
<li><p><strong>Dropdown Menu (<code>dropdown-menu</code>)</strong>: Hidden by default (<code>display: none</code>), it's positioned absolutely within the container. It has a light background, a minimum width, and a subtle box shadow for depth. The <code>z-index</code> ensures it appears above other elements.</p>
</li>
<li><p><strong>Show State (<code>dropdown-menu.show</code>)</strong>: When the <code>show</code> class is added (via JavaScript), it changes the <code>display</code> property to <code>block</code>, making the menu visible.</p>
</li>
<li><p><strong>Dropdown Items (<code>dropdown-item</code>)</strong>: Each item within the menu is styled to be easily selectable, with hover effects to indicate interactivity.</p>
</li>
</ul>
<h2>Accessibility Considerations in Styling</h2>
<p>While the styling above focuses on visual appeal, it's essential to consider accessibility in your design:</p>
<ul>
<li><p><strong>High Contrast</strong>: Ensure there's enough contrast between text and background colors to be readable by users with visual impairments.</p>
</li>
<li><p><strong>Larger Fonts</strong>: Use sufficiently large font sizes to aid readability.</p>
</li>
<li><p><strong>Increased Padding</strong>: More padding around clickable items can help users with motor disabilities.</p>
</li>
<li><p><strong>Focus Indicators</strong>: Ensure that when elements receive focus (e.g., via keyboard navigation), they have a clear visual indicator. This can be achieved with CSS like:</p>
<pre><code class="language-css">.dropdown-toggle:focus, .dropdown-item:focus {
  outline: 2px solid #000;
}
</code></pre>
</li>
</ul>
<p>These styling considerations not only make the dropdown more visually appealing but also ensure it's accessible and functional for a wider range of users, enhancing the overall user experience.</p>
<p>ResponseID:e3959b31</p>
</div><div title=" Custom Dropdown" id="childContent2" onclick="setVisibileChild('childContent2')" hidden=true><h1>Custom Dropdown: Detailed Explanation</h1>
<p>In the context of creating a custom dropdown, item 2 from the list provided earlier focuses on the implementation using JavaScript to enhance functionality and interactivity. Here's a more in-depth look at the elements involved:</p>
<h2>HTML Structure</h2>
<p>The foundation of the custom dropdown is built within the HTML structure. This is essential for defining the elements that will be manipulated by JavaScript.</p>
<pre><code class="language-html">&lt;div class="custom-dropdown"&gt;
  &lt;button class="dropdown-toggle" aria-haspopup="true" aria-expanded="false"&gt;
    Select an option
  &lt;/button&gt;
  &lt;ul class="dropdown-menu" aria-labelledby="dropdownMenuButton"&gt;
    &lt;li&gt;&lt;a class="dropdown-item" href="#"&gt;Option 1&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a class="dropdown-item" href="#"&gt;Option 2&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a class="dropdown-item" href="#"&gt;Option 3&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
</code></pre>
<ul>
<li><strong>Button Element:</strong> This acts as the toggle for the dropdown menu. It uses <code>aria-haspopup</code> to indicate that it controls a popup and <code>aria-expanded</code> to reflect the state of the dropdown (open or closed).</li>
<li><strong>Unordered List:</strong> Contains the dropdown options. Each list item (<code>&lt;li&gt;</code>) contains an anchor (<code>&lt;a&gt;</code>) which represents a selectable option. The <code>aria-labelledby</code> attribute connects the menu to its toggle button, enhancing accessibility.</li>
</ul>
<h2>JavaScript Implementation</h2>
<p>JavaScript is used to handle the interactivity of the custom dropdown, making it responsive to user actions.</p>
<pre><code class="language-javascript">document.addEventListener('DOMContentLoaded', function() {
  const dropdownToggle = document.querySelector('.dropdown-toggle');
  const dropdownMenu = document.querySelector('.dropdown-menu');

<p>  dropdownToggle.addEventListener('click', function(event) {
    event.preventDefault();
    dropdownMenu.classList.toggle('show');
    dropdownToggle.setAttribute('aria-expanded', dropdownMenu.classList.contains('show'));
  });</p>
<p>  document.addEventListener('click', function(event) {
    if (!dropdownToggle.contains(event.target) &amp;&amp; !dropdownMenu.contains(event.target)) {
      dropdownMenu.classList.remove('show');
      dropdownToggle.setAttribute('aria-expanded', 'false');
    }
  });</p>
</code><p><code class="language-javascript">  dropdownMenu.querySelectorAll('.dropdown-item').forEach(function(item) {
    item.addEventListener('click', function(event) {
      event.preventDefault();
      dropdownToggle.textContent = item.textContent;
      dropdownMenu.classList.remove('show');
      dropdownToggle.setAttribute('aria-expanded', 'false');
    });
  });
});
</code></p></pre><p></p>
<ul>
<li><strong>Event Listeners:</strong> The script adds event listeners to the dropdown toggle button to show/hide the menu when clicked. It also updates the <code>aria-expanded</code> attribute to reflect the dropdown's state, which is crucial for accessibility.</li>
<li><strong>Global Click Event:</strong> This ensures that clicking outside the dropdown closes it, enhancing user experience by managing the dropdown's visibility.</li>
<li><strong>Option Selection:</strong> When an option is clicked, the text of the toggle button updates to reflect the selected option, and the dropdown closes.</li>
</ul>
<h2>Accessibility Considerations</h2>
<ul>
<li><strong>ARIA Attributes:</strong> The use of <code>aria-haspopup</code>, <code>aria-expanded</code>, and <code>aria-labelledby</code> ensures that users relying on screen readers can understand the state and purpose of the dropdown.</li>
<li><strong>Keyboard Navigation:</strong> While not explicitly shown in the code snippet, ensuring that the dropdown can be operated via keyboard (using tab and enter/space keys) is essential for accessibility.</li>
</ul>
<p>This detailed approach to a custom dropdown not only enhances the user interface but also ensures it is accessible and functional across different devices and user needs.</p>
<p>ResponseID:39b5b77c</p>
</div><div title=" Accessibility Styling"" id="childContent3" onclick="setVisibileChild('childContent3')" hidden=true><h3>Accessibility Styling</h3>
<p>In the context of dropdown menus, accessibility styling is crucial to ensure that all users, including those with disabilities, can interact with the interface effectively. The example provided earlier demonstrates a few key principles of accessibility applied to a dropdown menu. Here's a more detailed breakdown of the accessibility enhancements included in the example:</p>
<h4>HTML Structure</h4>
<pre><code class="language-html">&lt;select id="accessibleDropdown"&gt;
  &lt;option value="option1"&gt;Option 1&lt;/option&gt;
  &lt;option value="option2"&gt;Option 2&lt;/option&gt;
  &lt;option value="option3"&gt;Option 3&lt;/option&gt;
&lt;/select&gt;
</code></pre>
<h4>CSS Styling</h4>
<pre><code class="language-css">#accessibleDropdown {
  width: 250px;
  padding: 15px;
  font-size: 18px;
  border: 2px solid #333;
  border-radius: 6px;
  background-color: #fff;
  color: #333;
}

<p>#accessibleDropdown option {
  background-color: #fff;
  color: #333;
}</p>
</code><p><code class="language-css">#accessibleDropdown:focus {
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
}
</code></p></pre><p></p>
<h4>Detailed Explanation</h4>
<ol>
<li><p><strong>Increased Font Size and Padding</strong>: </p>
<ul>
<li>The <code>font-size</code> is set to <code>18px</code>, which is larger than typical default sizes. This makes the text more readable for users with visual impairments.</li>
<li>The <code>padding</code> is set to <code>15px</code>, which increases the clickable area of the dropdown, making it easier to interact with, especially for users with motor disabilities.</li>
</ul>
</li>
<li><p><strong>High Contrast Colors</strong>:</p>
<ul>
<li>The <code>color</code> and <code>background-color</code> properties are set to <code>#333</code> (a dark gray) and <code>#fff</code> (white) respectively. This high contrast combination helps users with low vision to distinguish the text from the background more easily.</li>
</ul>
</li>
<li><p><strong>Border and Border Radius</strong>:</p>
<ul>
<li>A <code>2px solid #333</code> border is used to clearly delineate the dropdown from other elements on the page.</li>
<li>The <code>border-radius</code> is set to <code>6px</code>, which gives the dropdown a softer appearance, which can be more visually appealing and less intimidating for some users.</li>
</ul>
</li>
<li><p><strong>Focus State</strong>:</p>
<ul>
<li>When the dropdown receives focus, the <code>border-color</code> changes to <code>#007bff</code>, and a <code>box-shadow</code> is added. This visual feedback helps users understand that the dropdown is currently selected and ready for interaction.</li>
<li>The <code>outline</code> is removed (<code>outline: none</code>) to avoid visual clutter, but this should be used cautiously as it can affect keyboard navigation indicators.</li>
</ul>
</li>
<li><p><strong>Option Styling</strong>:</p>
<ul>
<li>The <code>option</code> elements within the dropdown also use the same high contrast colors (<code>#333</code> text on <code>#fff</code> background) to ensure readability throughout the dropdown menu.</li>
</ul>
</li>
</ol>
<p>These styling choices enhance the usability of the dropdown for a wider range of users, aligning with accessibility best practices. Adjustments can be made based on specific user needs and design preferences to further improve the accessibility of the dropdown menu.</p>
<p>ResponseID:21bf731d</p>
</div>
    </div>
  </div>

    <script>
        function saveButton() {
          const content = document.documentElement.outerHTML; // Get the entire HTML content
          const blob = new Blob([content], { type: 'text/html' }); // Create a Blob from the content
          const url = URL.createObjectURL(blob); // Create a URL for the Blob
          const divInnerText = document.getElementById('content').innerText;
          let filename = divInnerText.substring(0, 25);
          const a = document.createElement('a'); // Create an anchor element
          a.href = url; // Set the href to the Blob URL
          
        a.download =  filename + '.html'; // Set the download attribute with a filename
          document.body.appendChild(a); // Append the anchor to the body
          a.click(); // Programmatically click the anchor to trigger the download
          document.body.removeChild(a); // Remove the anchor from the document
          URL.revokeObjectURL(url); // Release the Blob URL
        }
    </script>

    <script>
      function setChildSubjects(){
        let dropDownOptions = [];
        let childSubjects = document.getElementById('childDivs');
        for (let child of childSubjects.children){
           let subject = child.title;
           let optionValue = child.id;

           dropDownOptions.push({subject: subject, value: optionValue});
        
        }

        for (let option of dropDownOptions){
          let optionElement = document.createElement('option');
          optionElement.value = option.value;
          optionElement.text = option.subject;
          document.getElementById('childSubjects').appendChild(optionElement);
        }

        document.getElementById('childSubjects').addEventListener('change', function() {
          if(this.value == "home"){
            goHomePage();
          }else{
            setVisibileChild(this.value);
          }

          }
        );
      }
    </script>


    <script>
      function setVisibileChild(id){
         let topNode = document.getElementById('content');
         let parentNode = document.getElementById('parentContent');
         let childVisibleNode = document.getElementById(id);
         parentNode.hidden = true;
         childVisibleNode.hidden = false;
      }
    </script>

    <script>
      function goHomePage(){
         let topNode = document.getElementById('content');
         let parentNode = document.getElementById('parentContent');
         let children = document.getElementById('childDivs');
         for (let child of children.children){
            child.hidden = true;
         }
         parentNode.hidden = false;
      }
    </script>

    <script>
      function setChildLinks(){
        let children = document.getElementById('childDivs'); 
        let childSubjects = [];
        let discoveredMatches = [];

        
        for (let child of children.children){
          let subject = child.title;
          childSubjects.push({subject: subject, child: child});
          }
             
          let parentNodeH2Subjects = []
          let parentNodeH3Subjects = []
          let parentNodeH4Subjects = []
          let parentNode = document.getElementById('parentContent');
          let H2s = parentNode.getElementsByTagName("H2");
          let H3s = parentNode.getElementsByTagName("H3");
          let H4s = parentNode.getElementsByTagName("H4");
          let isH2Match = false;
          let isH3Match = false;
          let isH4Match = false;

          H2s.length > 0? parentNodeH2Subjects = H2s.map(item => ({subject: item.innerText, item: item})):isH2Match = false;
          H3s.length > 0?parentNodeH3Subjects = H3s.map(item => ({subject: item.innerText, item: item})):isH3Match = false;
          H4s.length > 0?parentNodeH4Subjects = H4s.map(item => ({subject: item.innerText, item: item})):isH4Match = false;

          
           isH3Match = H3s.length == childSubjects.length;
           isH2Match = H2s.length == childSubjects.length;
           isH4Match = H4s.length == childSubjects.length;
          let allDiscovered = false;

          if (isH3Match){
            //We have a match.  We need to find the H2s
            allDiscovered = true;
          }
          if (isH2Match){
            //We have a match.  We need to find the H3s
            allDiscovered = true;
          }
          if (isH4Match){
            //We have a match.  We need to find the H2s
            allDiscovered = true;
          }

          if(allDiscovered && (isH3Match + isH2Match + isH4Match) > 1){
            //wierd.  ok we work from scratch.
            allDiscovered = false;
          }

          if(!allDiscovered){

            let fluffWords = ["a", "an", "the", "and", "but", "or", "for", "nor", "on", "at", "to", "from", "by", "with", "of"];
            let fluffWordsRegex = new RegExp(fluffWords.join("|"), "g");
          
          //OK time to stumble through unpredictable llm output
          //First check if the child subjects are in the parent node h2 subjects
          let isH2 = false;
          let isH3 = false;
          let isH4 = false;
      
          //This can be optimized later.  Probably doesnt matter since it is client side with modern computing.
          for (let i = 0; i < parentNodeH2Subjects.length; i++){
            let subject = parentNodeH2Subjects[i].subject;
            for (let j = 0; j < childSubjects.length; j++){
              let childSubject = childSubjects[j].subject;
              if(childSubject.replace(fluffWordsRegex, "") == subject.replace(fluffWordsRegex, "")){
                isH2 = true;
                discoveredMatches.push({parentLink: parentNodeH2Subjects[i].item, childLink: childSubjects[j].child});
              }
            }

          }
         
          if(!isH2){
            for (let i = 0; i < parentNodeH3Subjects.length; i++){
              let subject = parentNodeH3Subjects[i].subject;
              for (let j = 0; j < childSubjects.length; j++){
                let childSubject = childSubjects[j].subject;  
                if(childSubject.replace(fluffWordsRegex, "") == subject.replace(fluffWordsRegex, "")){
                  isH3 = true;
                  discoveredMatches.push({parentLink: parentNodeH3Subjects[i].item, childLink: childSubjects[j].child});
                }
              }
            }
          }

          if(!isH3){
            for (let i = 0; i < parentNodeH4Subjects.length; i++){
              let subject = parentNodeH4Subjects[i].subject;
              for (let j = 0; j < childSubjects.length; j++){
                let childSubject = childSubjects[j].subject;
                if(childSubject.replace(fluffWordsRegex, "") == subject.replace(fluffWordsRegex, "")){
                  isH4 = true;
                  discoveredMatches.push({parentLink: parentNodeH4Subjects[i].item, childLink: childSubjects[j].child});
                }
              }
            }
          }

          if(!isH4){
              //I suppose there are edge cases but this surely covers 99.9% of the cases.
          }

          }else{
            if(isH3Match){
              for (let i = 0; i < parentNodeH3Subjects.length; i++){
                let child = childSubjects[i].child;
                makeChildLinks(parentNodeH3Subjects[i].item, child);
              }
              return; //bye bye
            }
            if(isH2Match){
              for (let i = 0; i < parentNodeH2Subjects.length; i++){
                let child = childSubjects[i].child;
                makeChildLinks(parentNodeH2Subjects[i].item, child);
                return; //bye bye
              }
              if(isH4Match){
                for (let i = 0; i < parentNodeH4Subjects.length; i++){
                  let child = childSubjects[i].child;
                  makeChildLinks(parentNodeH4Subjects[i].item, child);
                }
              }

            }

          }

          for (let match of discoveredMatches){
            makeChildLinks(match.parentLink, match.childLink);
            if(match.length < childSubjects.length){ alert("LLMM added additional info that is hidden");}
          }

        }
    </script>

    <script>
       function makeChildLinks(parent, child){
            parent.style.cursor = "pointer";
            parent.style.textDecoration = "underline";
            parent.style.color = "blue";
            parent.onclick = function(){
              setVisibileChild(child.id);
            }
       }

    </script>

<script>window.onload = setChildSubjects;</script>

</body>
</html>


   
    <!-- <textarea id="userPrompt"></textarea>

    <script>
        function nextButton() {
            const userPrompt = document.getElementById('userPrompt').value;
            console.log(userPrompt);
        }
    </script> -->