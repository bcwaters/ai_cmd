<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Home Page</title>
  <style>
    pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: StackOverflow Light
  Description: Light theme as used on stackoverflow.com
  Author: stackoverflow.com
  Maintainer: @Hirse
  Website: https://github.com/StackExchange/Stacks
  License: MIT
  Updated: 2021-05-15

  Updated for @stackoverflow/stacks v0.64.0
  Code Blocks: /blob/v0.64.0/lib/css/components/_stacks-code-blocks.less
  Colors: /blob/v0.64.0/lib/css/exports/_stacks-constants-colors.less
*/.hljs{color:#2f3337;background:#f6f6f6}.hljs-subst{color:#2f3337}.hljs-comment{color:#656e77}.hljs-attr,.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-section,.hljs-selector-tag{color:#015692}.hljs-attribute{color:#803378}.hljs-name,.hljs-number,.hljs-quote,.hljs-selector-id,.hljs-template-tag,.hljs-type{color:#b75501}.hljs-selector-class{color:#015692}.hljs-link,.hljs-regexp,.hljs-selector-attr,.hljs-string,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#54790d}.hljs-meta,.hljs-selector-pseudo{color:#015692}.hljs-built_in,.hljs-literal,.hljs-title{color:#b75501}.hljs-bullet,.hljs-code{color:#535a60}.hljs-meta .hljs-string{color:#54790d}.hljs-deletion{color:#c02d2e}.hljs-addition{color:#2f6f44}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}

    nav {
      display: flex;
      justify-content: space-between;
      align-items: left;
      padding: 10px;
    }
    
    .nav-right {
      display: flex;
      gap: 50px;
      align-items: center;
    }
  </style>
</head>
<body>
  <nav>
    <a id="parentContentLink" href='/?context=0c950bed-1fb4-4b'>Prompt again</a>

    <div class="nav-right">
      <select id="childSubjects">
        <option value="home">Home</option>
        <!-- Children are added here onload with setChildSubjects -->
      </select>
      <!-- Add a previous and next button for prior requests? -->
      <!-- Add a button to save the current page as a markdown file -->

      
      <button id="saveButton" onclick="saveButton()">Save html</button>

    </div>

  </nav>

  <div id="content">  
    <div id="parentContent">
        <p>Here are the names of two planets in our solar system:</p>
<ol>
<li><strong>Mars</strong></li>
<li><strong>Jupiter</strong></li>
</ol>
<hr>
<p><strong>Follow-up Questions:</strong></p>
<ul>
<li>Would you like to know more about these planets?</li>
<li>Are you interested in learning about other planets in our solar system?</li>
<li>Do you have a favorite planet you'd like to discuss?</li>
</ul>

    </div>
    <div id="childDivs">
      <div title="Mars" id="childContent1" onclick="setVisibileChild('childContent1')" hidden=true><h2>Mars: The Red Planet</h2>
<h3>Overview</h3>
<p>Mars, often referred to as the "Red Planet" due to its reddish appearance caused by iron oxide (rust) on its surface, is the fourth planet from the Sun and the second smallest planet in our solar system. It has a thin atmosphere and a cold, desert-like environment.</p>
<h3>Physical Characteristics</h3>
<ul>
<li><strong>Diameter</strong>: Approximately 6,779 kilometers, about half the size of Earth.</li>
<li><strong>Mass</strong>: Roughly 10.7% of Earth's mass.</li>
<li><strong>Gravity</strong>: About 38% of Earth's gravity, making objects weigh less on Mars.</li>
<li><strong>Surface</strong>: Features vast deserts, towering volcanoes, and deep canyons. The largest volcano, Olympus Mons, is 22 kilometers high and 600 kilometers in diameter. The deepest canyon, Valles Marineris, stretches over 4,000 kilometers.</li>
</ul>
<h3>Atmosphere</h3>
<ul>
<li><strong>Composition</strong>: Primarily carbon dioxide (95.3%), with nitrogen (2.7%), argon (1.6%), and traces of other gases.</li>
<li><strong>Pressure</strong>: About 1% of Earth's atmospheric pressure, making it very thin.</li>
<li><strong>Weather</strong>: Experiences dust storms that can cover the entire planet and last for months. The temperature varies greatly, averaging around -63°C but can range from -153°C to 20°C.</li>
</ul>
<h3>Geological Features</h3>
<ul>
<li><strong>Polar Ice Caps</strong>: Mars has polar ice caps composed of water and frozen carbon dioxide. These caps grow and shrink with the seasons.</li>
<li><strong>Evidence of Water</strong>: There is evidence of past water flow, including dry riverbeds, lakebeds, and minerals formed in the presence of water.</li>
</ul>
<h3>Exploration</h3>
<ul>
<li><strong>Robotic Missions</strong>: Numerous missions have been sent to Mars, including the Viking program, Mars Pathfinder, and more recently, the Perseverance rover, which is searching for signs of ancient life and collecting samples for future return to Earth.</li>
<li><strong>Future Missions</strong>: Plans are in place for human missions to Mars, with organizations like NASA and SpaceX working towards this goal.</li>
</ul>
<h3>Cultural Significance</h3>
<ul>
<li><strong>In Popular Culture</strong>: Mars has been a focal point in science fiction, with numerous books, movies, and TV shows exploring the possibility of life on Mars or human colonization.</li>
<li><strong>Historical Observations</strong>: Mars has been observed since ancient times, with early astronomers like Galileo Galilei making detailed observations.</li>
</ul>
<p>ResponseID:64affe8f-2430-46</p>
</div><div title="Jupiter" id="childContent2" onclick="setVisibileChild('childContent2')" hidden=true><h1>Jupiter: A Detailed Overview</h1>
<h2>Overview</h2>
<p>Jupiter, the fifth planet from the Sun and the largest in our solar system, is a gas giant with a diameter of about 86,881 miles (139,822 kilometers). It is known for its Great Red Spot, a storm larger than the Earth that has been ongoing for at least 300 years.</p>
<h2>Atmosphere</h2>
<p>Jupiter's atmosphere is primarily composed of hydrogen and helium, similar to the Sun. The colorful bands seen in its atmosphere are due to cloud patterns and storm systems that are influenced by the planet's rapid rotation—once every 9.9 hours.</p>
<h3>Composition:</h3>
<ul>
<li><strong>Hydrogen</strong>: About 89.8%</li>
<li><strong>Helium</strong>: About 10.2%</li>
<li><strong>Trace gases</strong>: Methane, ammonia, water vapor, and other compounds.</li>
</ul>
<h3>Notable Features:</h3>
<ul>
<li><strong>Great Red Spot</strong>: A massive storm that has persisted for centuries.</li>
<li><strong>Cloud Bands</strong>: Alternating light and dark belts that encircle the planet.</li>
</ul>
<h2>Moons</h2>
<p>Jupiter has a total of 79 known moons, with the four largest known as the Galilean moons: Io, Europa, Ganymede, and Callisto.</p>
<h3>Galilean Moons:</h3>
<ul>
<li><strong>Io</strong>: Known for its volcanic activity, the most geologically active body in the solar system.</li>
<li><strong>Europa</strong>: Believed to have an ocean beneath its icy surface, a potential site for extraterrestrial life.</li>
<li><strong>Ganymede</strong>: The largest moon in the solar system, even larger than the planet Mercury.</li>
<li><strong>Callisto</strong>: Heavily cratered and believed to have a subsurface ocean.</li>
</ul>
<h2>Magnetic Field</h2>
<p>Jupiter has the strongest magnetic field of any planet in the solar system, which is about 20,000 times stronger than Earth's. This magnetic field traps charged particles and creates intense radiation belts around the planet.</p>
<h2>Rings</h2>
<p>Jupiter has a faint ring system, discovered by the Voyager 1 spacecraft in 1979. The rings are composed of dust particles ejected from its moons by meteoroid impacts.</p>
<h2>Exploration</h2>
<p>Several spacecraft have visited Jupiter, including:</p>
<ul>
<li><strong>Pioneer 10 and 11</strong>: First flybys in the 1970s.</li>
<li><strong>Voyager 1 and 2</strong>: Provided detailed images and data in the late 1970s.</li>
<li><strong>Galileo</strong>: Orbited Jupiter from 1995 to 2003, studying the planet and its moons.</li>
<li><strong>Juno</strong>: Currently orbiting Jupiter since 2016, focusing on its atmosphere and magnetic field.</li>
</ul>
<h2>Future Missions</h2>
<ul>
<li><strong>Europa Clipper</strong>: Planned by NASA to study Europa's potential for life.</li>
<li><strong>JUICE (JUpiter ICy moons Explorer)</strong>: A European Space Agency mission to study Ganymede, Europa, and Callisto.</li>
</ul>
<hr>
<p><strong>Follow-up Questions:</strong></p>
<ul>
<li>Would you like to know more about Jupiter's moons?</li>
<li>Are you interested in the ongoing and future missions to Jupiter?</li>
<li>Do you have any other specific aspects of Jupiter you'd like to explore?</li>
</ul>
<p>ResponseID:00a28107-ffee-4d</p>
</div>
    </div>
  </div>

    <script>
        function saveButton() {
          const content = document.documentElement.outerHTML; // Get the entire HTML content
          const blob = new Blob([content], { type: 'text/html' }); // Create a Blob from the content
          const url = URL.createObjectURL(blob); // Create a URL for the Blob
          const divInnerText = document.getElementById('content').innerText;
          let filename = divInnerText.substring(0, 25);
          const a = document.createElement('a'); // Create an anchor element
          a.href = url; // Set the href to the Blob URL
          
        a.download =  filename + '.html'; // Set the download attribute with a filename
          document.body.appendChild(a); // Append the anchor to the body
          a.click(); // Programmatically click the anchor to trigger the download
          document.body.removeChild(a); // Remove the anchor from the document
          URL.revokeObjectURL(url); // Release the Blob URL
        }
    </script>

    <script>
      function setChildSubjects(){
        let dropDownOptions = [];
        let childSubjects = document.getElementById('childDivs');
        for (let child of childSubjects.children){
           let subject = child.title;
           let optionValue = child.id;

           dropDownOptions.push({subject: subject, value: optionValue});
        
        }

        for (let option of dropDownOptions){
          let optionElement = document.createElement('option');
          optionElement.value = option.value;
          optionElement.text = option.subject;
          document.getElementById('childSubjects').appendChild(optionElement);
        }

        document.getElementById('childSubjects').addEventListener('change', function() {
          if(this.value == "home"){
            goHomePage();
          }else{
            setVisibleChild(this.value);
          }

          }
        );
      }
    </script>


    <script>
      function setVisibleChild(id){
        //quick flicker home to reset state, this allows hoping between child views
     
    
           let topNode = document.getElementById('content');
           let parentNode = document.getElementById('parentContent');
           let childVisibleNode = document.getElementById(id);
           let childDivs = document.getElementById('childDivs');
           for (let child of childDivs.children){
            if(child.id != id){
              child.hidden = true;
            }else{
              child.hidden = false; //redudant
            }
           }
           parentNode.hidden = true;
           childVisibleNode.hidden = false;
         }
      
    </script>

    <script>
      function goHomePage(){
         let topNode = document.getElementById('content');
         let parentNode = document.getElementById('parentContent');
         let children = document.getElementById('childDivs');
         for (let child of children.children){
            child.hidden = true;
         }
         parentNode.hidden = false;
      }
    </script>

    <script>
      function setChildLinks(){
        let children = document.getElementById('childDivs'); 
        let childSubjects = [];
        let discoveredMatches = [];

        
        for (let child of children.children){
          let subject = child.title;
          childSubjects.push({subject: subject, child: child});
          }
             
          let parentNodeH2Subjects = []
          let parentNodeH3Subjects = []
          let parentNodeH4Subjects = []
          let parentNode = document.getElementById('parentContent');
          let H2s = parentNode.getElementsByTagName("H2");
          let H3s = parentNode.getElementsByTagName("H3");
          let H4s = parentNode.getElementsByTagName("H4");
          let isH2Match = false;
          let isH3Match = false;
          let isH4Match = false;

          H2s.length > 0? parentNodeH2Subjects = H2s.map(item => ({subject: item.innerText, item: item})):isH2Match = false;
          H3s.length > 0?parentNodeH3Subjects = H3s.map(item => ({subject: item.innerText, item: item})):isH3Match = false;
          H4s.length > 0?parentNodeH4Subjects = H4s.map(item => ({subject: item.innerText, item: item})):isH4Match = false;

          
           isH3Match = H3s.length == childSubjects.length;
           isH2Match = H2s.length == childSubjects.length;
           isH4Match = H4s.length == childSubjects.length;
          let allDiscovered = false;

          if (isH3Match){
            //We have a match.  We need to find the H2s
            allDiscovered = true;
          }
          if (isH2Match){
            //We have a match.  We need to find the H3s
            allDiscovered = true;
          }
          if (isH4Match){
            //We have a match.  We need to find the H2s
            allDiscovered = true;
          }

          if(allDiscovered && (isH3Match + isH2Match + isH4Match) > 1){
            //wierd.  ok we work from scratch.
            allDiscovered = false;
          }

          if(!allDiscovered){

            let fluffWords = ["a", "an", "the", "and", "but", "or", "for", "nor", "on", "at", "to", "from", "by", "with", "of"];
            let fluffWordsRegex = new RegExp(fluffWords.join("|"), "g");
          
          //OK time to stumble through unpredictable llm output
          //First check if the child subjects are in the parent node h2 subjects
          let isH2 = false;
          let isH3 = false;
          let isH4 = false;
      
          //This can be optimized later.  Probably doesnt matter since it is client side with modern computing.
          for (let i = 0; i < parentNodeH2Subjects.length; i++){
            let subject = parentNodeH2Subjects[i].subject;
            for (let j = 0; j < childSubjects.length; j++){
              let childSubject = childSubjects[j].subject;
              if(childSubject.replace(fluffWordsRegex, "") == subject.replace(fluffWordsRegex, "")){
                isH2 = true;
                discoveredMatches.push({parentLink: parentNodeH2Subjects[i].item, childLink: childSubjects[j].child});
              }
            }

          }
         
          if(!isH2){
            for (let i = 0; i < parentNodeH3Subjects.length; i++){
              let subject = parentNodeH3Subjects[i].subject;
              for (let j = 0; j < childSubjects.length; j++){
                let childSubject = childSubjects[j].subject;  
                if(childSubject.replace(fluffWordsRegex, "") == subject.replace(fluffWordsRegex, "")){
                  isH3 = true;
                  discoveredMatches.push({parentLink: parentNodeH3Subjects[i].item, childLink: childSubjects[j].child});
                }
              }
            }
          }

          if(!isH3){
            for (let i = 0; i < parentNodeH4Subjects.length; i++){
              let subject = parentNodeH4Subjects[i].subject;
              for (let j = 0; j < childSubjects.length; j++){
                let childSubject = childSubjects[j].subject;
                if(childSubject.replace(fluffWordsRegex, "") == subject.replace(fluffWordsRegex, "")){
                  isH4 = true;
                  discoveredMatches.push({parentLink: parentNodeH4Subjects[i].item, childLink: childSubjects[j].child});
                }
              }
            }
          }

          if(!isH4){
              //I suppose there are edge cases but this surely covers 99.9% of the cases.
          }

          }else{
            if(isH3Match){
              for (let i = 0; i < parentNodeH3Subjects.length; i++){
                let child = childSubjects[i].child;
                makeChildLinks(parentNodeH3Subjects[i].item, child);
              }
              return; //bye bye
            }
            if(isH2Match){
              for (let i = 0; i < parentNodeH2Subjects.length; i++){
                let child = childSubjects[i].child;
                makeChildLinks(parentNodeH2Subjects[i].item, child);
                return; //bye bye
              }
              if(isH4Match){
                for (let i = 0; i < parentNodeH4Subjects.length; i++){
                  let child = childSubjects[i].child;
                  makeChildLinks(parentNodeH4Subjects[i].item, child);
                }
              }

            }

          }

          for (let match of discoveredMatches){
            makeChildLinks(match.parentLink, match.childLink);
            if(match.length < childSubjects.length){ alert("LLMM added additional info that is hidden");}
          }

        }
    </script>

    <script>
       function makeChildLinks(parent, child){
            parent.style.cursor = "pointer";
            parent.style.textDecoration = "underline";
            parent.style.color = "blue";
            parent.onclick = function(){
              setVisibleChild(child.id);
            }
       }

    </script>

<script>window.onload = setChildSubjects;</script>

</body>
</html>


   
    <!-- <textarea id="userPrompt"></textarea>

    <script>
        function nextButton() {
            const userPrompt = document.getElementById('userPrompt').value;
            console.log(userPrompt);
        }
    </script> -->