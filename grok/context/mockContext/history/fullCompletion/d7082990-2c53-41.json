{"id":"d7082990-2c53-41c6-ad63-7af114e24f5d","object":"chat.completion","created":1741283331,"model":"grok-2-1212","choices":[{"index":0,"message":{"role":"assistant","content":"Here's an example of how you can extend the previous setup to process more LaTeX equations using the unified ecosystem with rehype and rehype-katex. This example includes various mathematical formulas wrapped in HTML `<span>` tags for processing.\n\n```javascript\nconst unified = require('unified');\nconst parse = require('rehype-parse');\nconst katex = require('rehype-katex');\nconst stringify = require('rehypestringify');\n\nunified()\n  .use(parse, { fragment: true })\n  .use(katex)\n  .use(stringify)\n  .process(`\n    <p>The quadratic formula is <span class=\"math-inline\">\\\\(\\\\frac{-b \\\\pm \\\\sqrt{b^2 - 4ac}}{2a}\\\\)</span>.</p>\n    <p>Einstein's mass-energy equivalence is given by <span class=\"math-inline\">\\\\(E = mc^2\\\\)</span>.</p>\n    <p>The Pythagorean theorem states that <span class=\"math-inline\">\\\\(a^2 + b^2 = c^2\\\\)</span>.</p>\n    <p>The area of a circle is <span class=\"math-inline\">\\\\(\\\\pi r^2\\\\)</span>.</p>\n  `, function(err, file) {\n    console.log(String(file));\n  });\n```\n\nIn this example, we're processing multiple LaTeX equations within HTML. The setup remains similar to the previous example, but now we're including more mathematical formulas to showcase the versatility of the system:\n\n- **Quadratic Formula:** Used in algebra to find the roots of a quadratic equation.\n- **Einstein's Mass-Energy Equivalence:** A fundamental principle in physics.\n- **Pythagorean Theorem:** A cornerstone in geometry for calculating the sides of a right triangle.\n- **Area of a Circle:** A basic formula in geometry for calculating the area of a circle.\n\nBy using `rehype-parse` with the `fragment: true` option, we ensure that the input is parsed as a fragment, allowing for multiple inline LaTeX expressions within `<span>` tags. `rehype-katex` then renders these LaTeX expressions into HTML, and `rehypestringify` converts the processed tree back to HTML.\n\nThis approach is particularly useful when you want to process LaTeX directly within an HTML context, maintaining the original structure and enhancing it with rendered mathematical equations.\n\n@EOF@\n[LaTeX, unified, rehype, KaTeX, HTML, JavaScript, rendering, math-processing, quadratic-formula, Einstein-mass-energy, Pythagorean-theorem, area-of-circle, mathematics]","refusal":null},"finish_reason":"stop"}],"usage":{"prompt_tokens":557,"completion_tokens":522,"reasoning_tokens":0,"total_tokens":1079,"prompt_tokens_details":{"text_tokens":557,"audio_tokens":0,"image_tokens":0,"cached_tokens":0}},"system_fingerprint":"fp_5c0c5bd9d9"}