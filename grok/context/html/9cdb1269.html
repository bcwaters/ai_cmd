<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Grok Response</title>
</head>
<body>
  <nav>
    <button id="saveButton" onclick="saveButton()">Save</button>
    <button id="openSavedChats" onclick="selectSavedChat()">Open Saved Chats</button>
    <a id="previous" href="../responses/cc02a305.html?responseId=9cdb1269">Previous</a>
    <a id="next" href="../responses/@NEXT_ID@.html">Next</a>
  </nav>

  <div id="content"></div>


  <script>
    function selectSavedChat() {
      console.log("selectSavedChat");
    }
  </script>
    <script>
        function saveButton() {
          const content = document.documentElement.outerHTML; // Get the entire HTML content
          const blob = new Blob([content], { type: 'text/html' }); // Create a Blob from the content
          const url = URL.createObjectURL(blob); // Create a URL for the Blob
          const divInnerText = document.getElementById('content').innerText;
          let filename = divInnerText.substring(0, 25);
          const a = document.createElement('a'); // Create an anchor element
          a.href = url; // Set the href to the Blob URL
          
        a.download =  "/home/bcwaters/repo/grok_cmd/grok_cmd/saved/"+ filename + '.html'; // Set the download attribute with a filename
          document.body.appendChild(a); // Append the anchor to the body
          a.click(); // Programmatically click the anchor to trigger the download
          document.body.removeChild(a); // Remove the anchor from the document
          URL.revokeObjectURL(url); // Release the Blob URL
        }
    </script>
    <script>

      const responseId = window.location.search.split('=')[1];
      console.log(window.location.search);
      //document.getElementById('previous').href = "../responses/" + responseId + ".html";
    
      if (responseId == undefined) {
        document.getElementById('next').hidden=true;
      } else {
        document.getElementById('next').href = "../responses/" + responseId + ".html";
      }
    </script>
   
  
  <script src="marked.min.js"></script>
  <script>
    document.getElementById('content').innerHTML =
      marked.parse('Modern browsers still allow the use of absolute paths with the `download` attribute due to several reasons:\n\n1. **Backward Compatibility**: Web standards and browser behaviors often maintain support for older features to ensure that existing websites continue to function as intended. Removing support for absolute paths could break numerous websites that rely on this functionality.\n\n2. **Flexibility for Developers**: Allowing absolute paths gives developers more control over where files are downloaded from. This can be useful in certain scenarios, such as when serving files from different directories on the server.\n\n3. **Security is a Shared Responsibility**: While browsers could impose stricter rules, security is also the responsibility of the server and application developers. Browsers provide the tools and mechanisms (like the `download` attribute), but it\'s up to the server to ensure that these are used securely.\n\n4. **User Experience**: In some cases, users might want to download files from specific locations on the server. Restricting absolute paths at the browser level could limit user options and flexibility.\n\nHowever, it\'s important for developers to be aware of the security risks and implement appropriate server-side measures to mitigate these risks, as outlined in the previous sections.\n\nResponseID:9cdb1269');
  </script>
</body>
</html>


   
    <!-- <textarea id="userPrompt"></textarea>

    <script>
        function nextButton() {
            const userPrompt = document.getElementById('userPrompt').value;
            console.log(userPrompt);
        }
    </script> -->